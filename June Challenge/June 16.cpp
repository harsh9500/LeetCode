class Solution {
public:
    bool validateIPv4(string intermediate)
    {
        int check;
        int n=intermediate.length();
        if(n==0)
            return false;
        if(n>3)
            return false;
        for(int i=0;i<n;i++)
            if(!isdigit(intermediate[i]))
                return false;
        check=stoi(intermediate);
        if(check<0 || check>255)
        {
            return false;
        }
        if(n>1 && intermediate[0]=='0')
        {
            return false;
        }
        return true;
    }
    bool validateIPv6(string intermediate)
    {
        int n=intermediate.length();
        if(n==0)
            return false;
        if(n>4)
            return false;
        else
        {
            for(int i=0;i<n;i++)
                if(isalpha(intermediate[i]))
                {
                    char ch=tolower(intermediate[i]);
                    if(ch<'a' || ch>'f')
                        return false;
                }
                else
                {
                    if(!isdigit(intermediate[i]))
                        return false;
                }

        }
        return true;
            
    }
    string validIPAddress(string IP) {
        string answer="Neither";
        int countCall;
        int flag=0;
        if(count(IP.begin(),IP.end(),'.')==3)
        {
            stringstream splitted(IP);
            string intermediate;
            countCall=0;
            while(getline(splitted,intermediate,'.'))
            {
                countCall++;
                if(!validateIPv4(intermediate))
                {
                    flag=1;
                    break;
                }
            }
            if(flag==0 && countCall==4)
                answer="IPv4";
        }
        else
        {
            if(count(IP.begin(),IP.end(),':')==7)
            {
                stringstream splitted(IP);
                string intermediate;
                countCall=0;
                while(getline(splitted,intermediate,':'))
                {
                    countCall++;
                    if(!validateIPv6(intermediate))
                    {
                        flag=1;
                        break;
                    }
                }
                if(flag==0 && countCall==8)
                    answer="IPv6";
            }
        }
        return answer;
    }
};

// "172.16.254.1"
// "172.16.254.01"
// "0.0.0.0"
// "255.255.255.255"
// "256.256.256.256"
// "0.0.0.0.0"
// "1.0.1."
// "2001:0db8:85a3:0000:0000:8a2e:0370:7334"
// "2001:db8:85a3:0:0:8A2E:0370:7334"
// "2001:0db8:85a3::8A2E:0370:7334"
// "02001:0db8:85a3:0000:0000:8a2e:0370:7334"
// "2001:0db8:85a3:0000:0000:8g2e:0370:7334"
// "2001:0db8:85a3:0000:0000:8G2e:0370:7334"
// "2001:0db8:85a3:0000:0000:8A2e:0370:7334"
// "2001:0db8:85a3:0000:0000:8a2e:0370:"
// "12..33.4"
// "2001:0db8:85a3::8A2E:0370:7334:1234"
// ":0db8:85a3::8A2E:0370:7334:1234"
// ".1.2.3"
// "0.0.0.-0"
// "0.0.0.a"
// "2001:0db8:85a3:0000:0000:8a2e:0370:7-34"
// "f:f:f:f:f:f:f:f"
// "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"